##第三章 闭包和高阶函数

###3.1闭包
####3.1.1变量的作用域
即变量的有效范围。
`局部变量`：全局都有效
`全局变量`：所处在的局部范围
####3.1.2变量的生命周期
`局部变量`：永久
`全局变量`：退出局部作用区域

闭包有魔法：“修改”变量的生命周期
如书本中提供了一个封闭变量的[demo](http://runjs.cn/code/qezihyfs)
####3.1.3闭包的更多作用
1. 封装变量
把一些不要要暴露在全局的变量封装成“私有变量”。
2. 延续局部变量的寿命
我们知道局部变量的生命周期是在其所属的方法执行的时效内，当方法执行完毕时，局部变量就会被销毁。而闭包可以“延续”局部变量的生命周期。可以参考书中的一个数据上报的demo:
<pre>
var report = function(){
	var img = new Image();
    img.src = src;
};
report("http://www.abc.com/getUserInfo");

</pre>
但是在上传过程中，会遇到数据请求丢失的情况。原因就是img是局部变量，当report函数调用结束后，img变量即被销毁。
此时我们可以用闭包来延长img的生命周期进而避免数据丢失的问题：
<pre>
var report = (function(){
	var imgs = [];
    return function(src){
    	var img = new Image();
        imgs.push(img);
        img.src = src;
    }
})();
</pre>


###3.2高阶函数
`高阶函数`
> 
1. 函数可以作为参数被传递:如回调函数等
2. 函数可以作为返回值输出：如判断类型等等

